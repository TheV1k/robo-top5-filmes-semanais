{
  "name": "Top 5 filmes semanais",
  "triggers": [
    {
      "name": "Schedule Trigger",
      "type": "schedule",
      "cron": "0 17 * * MON"
    }
  ],
  "steps": [
    {
      "name": "HTTP Request",
      "type": "httpRequest",
      "params": {
        "url": "https://api.themoviedb.org/3/trending/movie/week?language=pt-BR",
        "method": "GET",
        "headers": {
          "Authorization": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2OGQ3YmFjM2I5ZDE1YjI5NDUwNWY4MmFkZGI2YTFjNSIsIm5iZiI6MTc1MTYzOTU4Ni43MjMsInN1YiI6IjY4NjdlNjIyNDdlMjdhZWFkNDVlMzdlOCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.RNXVGKObvrFEq1U7dxK4uug0LpY5r2Sf2CGgG_jIj6c"
        }
      }
    },
    {
      "name": "Capturar top 5",
      "type": "code",
      "language": "javascript",
      "code": "const filmes = items[0].json.results.slice(0, 5);\n\nreturn filmes.map(filme => {\n  return {\n    json: {\n      titulo: filme.title,\n      sinopse: filme.overview,\n      nota: filme.vote_average,\n      data: filme.release_date\n    }\n  };\n});"
    },
    {
      "name": "Formatar mensagem",
      "type": "code",
      "language": "javascript",
      "code": "function escapeMarkdown(text) {\n  return text\n    .replace(/_/g, '\\\\_')\n    .replace(/\\*/g, '\\\\*')\n    .replace(/\\[/g, '\\\\[')\n    .replace(/`/g, '\\\\`');\n}\n\nlet mensagem = \"ðŸŽ¬ *Top 5 filmes da semana:*\\n\\n\";\n\nfor (const item of items) {\n  const titu]()]()
